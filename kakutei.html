<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="DB_sql.js"></script>
    <script type="text/javascript" src="GamenSeni.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>注文確定</title>
</head>
<body>
    <h2>みら弁--注文確定--</h2>
    <h1>注文確定</h1>
    <!--テーブル-->
    <p>
        <table border="1">
            <tr>　<!--カラム名-->
                <th>注文内容</th>
                <th>個数</th>
                <th>金額</th>
            </tr>
            <tr>　<!--データ-->
                <td id="Food1"></td>
                <td id="some"></td>
                <td id="Price"></td>
            </tr>
            <tr>
            </tr>
        </table>
    </p>
    <br>
    <label>上記の注文が確定しました</label>
    <br>
    <input id="OK" type="button" value="OK">


    <script>

        let userID = localStorage.getItem("ID_Key");
        let ShopID = localStorage.getItem("ShopID");
        let ShopName = localStorage.getItem("ShopName");

        let name = DB.sql("select * from TE_Order");//データベース取得

        // テーブルにデータを表示
        for (a = 0; a < name.length; a++) {

            if(userID == name[a]["UserID"]){

                $("#Food1").append('<tr>' + '<td id="Food_N' + a + '" class="syousai" colspan="2">' + ShopName + '</td>' + '<td>' + name[a]["OrderFoodName"] + '</td>' + '</tr>');     //[""]のなかにDB名を入れれば表示されるはず。
                $("#some").append('<tr>' + '<td id="Food_S' + a + '" class="syousai">' + name[a]["some"] +'個'+ '</td>' + '</tr>');     //[""]のなかにDB名を入れれば表示されるはず。
                $("#Price").append('<tr>' + '<td id="Food_P' + a + '" class="syousai">' + name[a]["Price"] + '円' + '</td>' + '</tr>');     //[""]のなかにDB名を入れれば表示されるはず。

            }
        }


        $("#OK").on("click",function(){

            window.location.href = "kekka.html"

        })
    
    </script>
</body>

</html>
